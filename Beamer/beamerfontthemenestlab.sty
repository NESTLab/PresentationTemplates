%
% Use Fira for everything
%
% \usepackage[sfdefault]{FiraSans}
% \usepackage{FiraMono}

%
% Check fonts
%
\usepackage{ifxetex}
\usepackage{ifluatex}

\ifboolexpr{bool {xetex} or bool {luatex}}{
  \@ifpackageloaded{fontspec}{
    \PassOptionsToPackage{no-math}{fontspec}
  }{
    \RequirePackage[no-math]{fontspec}
  }
  \newcounter{fontsnotfound}
  \newcommand{\checkfont}[1]{%
    \suppressfontnotfounderror=1%
    \font\x = "#1" at 10pt
    \selectfont
    \ifx\x\nullfont%
    \stepcounter{fontsnotfound}%
    \fi%
    \suppressfontnotfounderror=0%
  }
  \newcommand{\iffontsavailable}[3]{%
    \setcounter{fontsnotfound}{0}%
    \expandafter\forcsvlist\expandafter%
    \checkfont\expandafter{#1}%
    \ifnum\value{fontsnotfound}=0%
    #2%
    \else%
    #3%
    \fi%
  }
  \iffontsavailable{Fira Sans Light,%
    Fira Sans Light Italic,%
    Fira Sans,%
    Fira Sans Italic}%
  {%
    \setsansfont[ItalicFont={Fira Sans Light Italic},%
    BoldFont={Fira Sans},%
    BoldItalicFont={Fira Sans Italic}]%
    {Fira Sans Light}%
  }{%
    \iffontsavailable{Fira Sans Light OT,%
      Fira Sans Light Italic OT,%
      Fira Sans OT,%
      Fira Sans Italic OT}%
    {%
      \setsansfont[ItalicFont={Fira Sans Light Italic OT},%
      BoldFont={Fira Sans OT},%
      BoldItalicFont={Fira Sans Italic OT}]%
      {Fira Sans Light OT}%
    }{%
      \PackageWarning{beamerthemenestlab}{%
        Could not find Fira Sans fonts%
      }
    }
  }
  \iffontsavailable{Fira Mono, Fira Mono Bold}{%
    \setmonofont[BoldFont={Fira Mono Medium}]{Fira Mono}%
  }{%
    \iffontsavailable{Fira Mono OT, Fira Mono Bold OT}{%
      \setmonofont[BoldFont={Fira Mono Medium OT}]{Fira Mono OT}%
    }{%
      \PackageWarning{beamerthemenestlab}{%
        Could not find Fira Mono fonts%
      }
    }
  }
  \AtBeginEnvironment{tabular}{%
    \addfontfeature{Numbers={Monospaced}}%
  }
}{%
  \PackageWarning{beamerthemenestlab}{%
    You need to compile with XeLaTeX or LuaLaTeX to use the Fira fonts%
  }
}
      

%
% Basic fonts
%
\setbeamerfont*{titlelike}{size=\Large,series=\bfseries}

%
% Frame elements
%
\setbeamerfont*{frametitle}{size*={16pt}{0pt},series=\bfseries}
\setbeamerfont*{page number in head/foot}{size=\footnotesize}

%
% Title
%
\setbeamerfont*{title}{size=\LARGE,series=\bfseries}
\setbeamerfont*{subtitle}{size=\Large,series=\bfseries}
\setbeamerfont*{author}{size=\normalsize}
\setbeamerfont*{institute}{size=\normalsize}
\setbeamerfont*{date}{size=\normalsize}

%
% Lists
%
\setbeamerfont*{enumerate item}{size=\normalsize}
\setbeamerfont*{enumerate subitem}{size=\normalsize}
\setbeamerfont*{enumerate subsubitem}{size=\normalsize}

% 
% Blocks
%
\setbeamerfont*{block title}{size=\normalsize,series=\bfseries}

%
% Title
%
\setbeamerfont*{section title}{size=\Large,series=\bfseries}